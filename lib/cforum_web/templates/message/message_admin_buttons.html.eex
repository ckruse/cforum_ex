  <div class="admin-links">
    <%= if Helpers.blank?(@message.parent_id) do %>
      <%= if @thread.sticky do %>
        <%= VHelpers.Button.destructive_index_button(to: Path.thread_path(@conn, :unsticky, @thread), params: VHelpers.std_args(@conn)) do %>
          <%= gettext("mark thread as sticky") %>
        <% end %>
      <% else %>
        <%= VHelpers.Button.destructive_index_button(to: Path.thread_path(@conn, :sticky, @thread), params: VHelpers.std_args(@conn)) do %>
        <%= gettext("remove sticky mark") %>
      <% end %>
    <% end %>

    <%= VHelpers.Button.destructive_index_button(to: Path.thread_path(@conn, :move, @thread), method: :get) do %>
      <%= gettext("move thread") %>
    <% end %>

    <%= if @thread.flags["no-archive"] == "yes" do %>
      <%= VHelpers.Button.destructive_index_button(to: Path.thread_path(@conn, :do_archive, @thread), params: VHelpers.std_args(@conn)) do %>
        <%= gettext("don't archive thread") %>
      <% end %>
    <% else %>
      <%= VHelpers.Button.destructive_index_button(to: Path.thread_path(@conn, :no_archive, @thread), params: VHelpers.std_args(@conn)) do %>
        <%= gettext("archive thread") %>
      <% end %>
    <% end %>
  <% end %>

  <%= if @message.deleted do %>
    <%= VHelpers.Button.destructive_index_button(to: Path.message_path(@conn, :restore, @thread, @message), params: VHelpers.std_args(@conn)) do %>
      <%= gettext("restore this message") %>
    <% end %>
  <% else %>
    <%= VHelpers.Button.destructive_index_button(to: Path.message_path(@conn, :delete, @thread, @message), params: VHelpers.std_args(@conn)) do %>
      <%= gettext("delete this message") %>
    <% end %>
  <% end %>

  <%= if Abilities.may?(@conn, "messages/admin", :no_answer) do %>
    <%= if MessageHelpers.no_answer?(@message) do %>
      <%= VHelpers.Button.destructive_index_button(to: Path.message_path(@conn, :answer, @thread, @message), params: VHelpers.std_args(@conn)) do %>
        <%= gettext("allow answering to this message") %>
      <% end %>
    <% else %>
      <%= VHelpers.Button.destructive_index_button(to: Path.message_path(@conn, :no_answer, @thread, @message), params: VHelpers.std_args(@conn)) do %>
        <%= gettext("forbid answering to this message") %>
      <% end %>
    <% end %>
  <% end %>

  <%= if Abilities.may?(@conn, "threads/admin", :split, @message) do %>
    <%= VHelpers.Button.destructive_index_button_link(gettext("split thread"), to: Path.thread_path(@conn, :split, @thread, [mid: @message.message_id]), rel: "nofollow") %>
  <% end %>
</div>
